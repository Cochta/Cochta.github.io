\doxysection{network\+\_\+client\+\_\+manager.\+h}
\hypertarget{network__client__manager_8h_source}{}\label{network__client__manager_8h_source}\mbox{\hyperlink{network__client__manager_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <queue>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <shared\_mutex>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{packet_8h}{Packet.h}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{client__network__interface_8h}{client\_network\_interface.h}}"{}}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_network_client_manager}{NetworkClientManager}}\ final\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_client_network_interface}{ClientNetworkInterface}}\ \{}
\DoxyCodeLine{00013\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00014\ \ \ sf::TcpSocket*\ \_socket\ =}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \textcolor{keyword}{new}\ sf::TcpSocket();\ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00017\ \ \ std::queue<Packet*>\ \_packetReceived;\ \ }
\DoxyCodeLine{00018\ \ \ \textcolor{keyword}{mutable}\ std::shared\_mutex\ \_receivedMutex;\ \ }
\DoxyCodeLine{00020\ \ \ std::queue<Packet*>}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \_packetToSend;\ \ }
\DoxyCodeLine{00022\ \ \ \textcolor{keyword}{mutable}\ std::shared\_mutex}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \_sendMutex;\ \ }
\DoxyCodeLine{00024\ \ \ \textcolor{keywordtype}{bool}\ \_running\ =\ \textcolor{keyword}{true};\ \ }
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00029\ \ \ \textcolor{keywordtype}{void}\ ReceivePackets();}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00034\ \ \ \textcolor{keywordtype}{void}\ SendPackets();}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00040\ \ \ \textcolor{keywordtype}{bool}\ IsPacketReceivedEmpty()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00041\ \ \ \ \ std::shared\_lock\ lock(\_receivedMutex);}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordflow}{return}\ \_packetReceived.empty();}
\DoxyCodeLine{00043\ \ \ \}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00049\ \ \ \textcolor{keywordtype}{bool}\ IsPacketToSendEmpty()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00050\ \ \ \ \ std::shared\_lock\ lock(\_sendMutex);}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordflow}{return}\ \_packetToSend.empty();}
\DoxyCodeLine{00052\ \ \ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00055\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_network_client_manager_a75417e53d042bdd2ceccb0ff6720dfef}{IsConnected}}\ =}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \textcolor{keyword}{false};\ \ }
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00063\ \ \ \mbox{\hyperlink{class_network_client_manager_a850a23605fdcce6bec4f288b818bbf44}{NetworkClientManager}}(std::string\_view\ host,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ port);}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00071\ \ \ \mbox{\hyperlink{struct_packet}{Packet}}*\ \mbox{\hyperlink{class_network_client_manager_ae4b486b0b69ac0c7659c71942c4c645c}{PopPacket}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00077\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_network_client_manager_aab14d09317c5cdabe1e580029086d217}{SendPacket}}(\mbox{\hyperlink{struct_packet}{Packet}}*\ packet)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00082\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_network_client_manager_afc8a4ee02e2b5da24f3f318635234208}{Stop}}();}
\DoxyCodeLine{00083\ \};}

\end{DoxyCode}
